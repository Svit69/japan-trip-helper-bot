## Japan Trip Helper Bot

Telegram-бот с выдачей PDF-гида после оплаты через ЮKassa. Есть пользовательская и админская панели.

### Стек
- Node.js, Telegraf
- ЮKassa API (redirect)
- Файловое хранилище JSON

### Запуск
1. Создайте `.env` по образцу `.env.example`:
   - `TELEGRAM_BOT_TOKEN` — токен бота
   - `YOOKASSA_SHOP_ID` — идентификатор магазина
- `YOOKASSA_API_KEY` — секретный ключ ЮKassa
- `PAYMENT_RETURN_URL` — URL возврата после оплаты
- `GUIDE_PRICE` — цена в рублях (например, `99.00`)
- `ADMIN_IDS` — список id админов через запятую
2. Установите зависимости: `npm install`
3. Стартуйте бота: `npm start`

### Роли и функции
- Пользователь:
  - Кнопка «Получить гайд» создаёт ссылку на оплату
  - «Проверить оплату» сверяет статус платежа и присылает PDF
- Админ:
  - `/admin` — меню с кнопками
  - «Загрузить гайд» — отправьте PDF-файл, чтобы обновить гайд
  - «Список пользователей» — вывод id/username и статус выдачи

### Архитектура
- `BotApplication` связывает панели и сервисы
- `Panel` — базовый абстрактный класс; `UserPanel` и `AdminPanel` реализуют поведение (полиморфизм и наследование)
- Сервисы (`PaymentService`, `UserService`, `GuideService`) инкапсулируют работу с ЮKassa и файлами
